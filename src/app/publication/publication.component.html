<div class="publication-card">
  <h2>Créer une publication</h2>

  <div *ngIf="successMessage" class="alert alert-success">
    {{ successMessage }}
  </div>
  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <form (ngSubmit)="addPublication()" enctype="multipart/form-data">
    <textarea
      placeholder="Exprimez-vous..."
      [(ngModel)]="contenu"
      name="contenu"
      class="textarea"
      required
    ></textarea>

    <div class="file-upload">
      <label for="file">
        <span>📎 Ajouter un fichier</span>
      </label>
      <input type="file" id="file" (change)="onFileSelected($event)" />
    </div>

    <button type="submit" [disabled]="!contenu" class="btn-post">
      Publier
    </button>
  </form>
</div>
